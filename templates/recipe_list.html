{% extends 'base.html' %}
{% block content %}
<h2>Recipes</h2>
<a href="{% url 'recipe_create' %}">Create a New Recipe</a>
<ul>
    {% for recipe in recipes %}
        <div>
            {% if recipe.image %}
                <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}" width="200">
            {% endif %}
            <h2>{{ recipe.title }}</h2>
            <p>{{ recipe.description }}</p>
            <p>Likes: {{ recipe.likes.count }}</p>
            <p>Rating: {{ recipe.rating|floatformat:1 }} ({{ recipe.rating_count }} ratings)</p>
            <a href="{% url 'recipe_detail' recipe.id %}">View Recipe</a>
        </div>
    {% empty %}
        <p>No recipes found.</p>
    {% endfor %}
</ul>
{% endblock %}